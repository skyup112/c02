<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ê°œì¸íšŒì› ë§ˆì´í˜ì´ì§€</title>
    <style>
        .container { display: flex; }
        .sidebar {
            width: 200px;
            background-color: #f2f2f2;
            padding: 20px;
            height: 100vh;
        }
        .sidebar a {
            display: block;
            margin-bottom: 10px;
            text-decoration: none;
        }
        .content {
            flex: 1;
            padding: 20px;
        }
        .nav-top {
            background-color: #e9e9e9;
            padding: 10px;
        }
    </style>
</head>
<body>

<div class="nav-top">
    <a th:href="@{/member/main}">ğŸ  ë©”ì¸ìœ¼ë¡œ</a>
</div>

<div class="container">
    <!-- ì¢Œì¸¡ ë©”ë‰´ -->
    <div class="sidebar">
        <strong>ğŸ“ ë§ˆì´í˜ì´ì§€ ë©”ë‰´</strong>
        <a href="#" onclick="showSection('info')">íšŒì› ì •ë³´</a>
        <a href="#" onclick="showSection('history')">ì§€ì› ë‚´ì—­</a>
        <a href="#" onclick="showSection('settings')">ì •ë³´ ìˆ˜ì •</a>
    </div>

    <!-- ìš°ì¸¡ ì½˜í…ì¸  -->
    <div class="content">
        <!-- íšŒì› ì •ë³´ -->
        <div id="section-info" style="display:block;">
            <h2>íšŒì› ì •ë³´</h2>
            <p>ì´ë¦„: <span th:text="${member.name}"></span></p>
            <p>ìƒë…„ì›”ì¼: <span th:text="${member.birthDate}"></span></p>
            <p>ì „í™”ë²ˆí˜¸: <span th:text="${member.phone}"></span></p>
            <p>ì£¼ì†Œ: <span th:text="${member.address}"></span></p>
        </div>

        <!-- ì§€ì› ë‚´ì—­ -->
        <div id="section-history" style="display:none;">
            <h2>ì§€ì› ë‚´ì—­</h2>

            <div th:if="${#lists.isEmpty(applications)}">
                <p>ì§€ì›í•œ ê³µê³ ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>

            <div th:unless="${#lists.isEmpty(applications)}">
                <table border="1" cellpadding="5" style="width:100%; text-align:center;">
                    <thead>
                    <tr>
                        <th>ê³µê³  ì œëª©</th>
                        <th>ì§€ì›ì¼</th>
                        <th>íŒŒì¼</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="app : ${applications}">
                        <td th:text="${app.postTitle}"></td>
                        <td th:text="${#temporals.format(app.submittedAt, 'yyyy-MM-dd')}"></td>
                        <td>
                            <a th:href="@{${'/files/' + app.filePath}}" target="_blank"
                               th:text="${app.filePath != null ? 'ë‹¤ìš´ë¡œë“œ' : 'ì—†ìŒ'}"></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- ì •ë³´ ìˆ˜ì • ì„¹ì…˜ -->
        <div id="section-settings" style="display:none;">
            <h2>ì •ë³´ ìˆ˜ì •</h2>
            <p>íšŒì› ì •ë³´ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            <button onclick="location.href='/member/edit'">íšŒì› ì •ë³´ ìˆ˜ì •</button>
            <button onclick="location.href='/member/password-change'">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
        </div>
    </div>
</div>

<script>
    function showSection(section) {
        document.getElementById("section-info").style.display = 'none';
        document.getElementById("section-history").style.display = 'none';
        document.getElementById("section-settings").style.display = 'none';

        document.getElementById("section-" + section).style.display = 'block';
    }
</script>

</body>
</html>
